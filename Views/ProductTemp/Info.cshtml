@model Product
@{
    ViewData["Title"] = "Produkt information";
}

<div class="d-flex justify-content-center m-4">
    <h2>@Model.Title</h2>
</div>

<div class="d-flex justify-content-center m-4">
    <img src="@Model.PictureLink" />
</div>

<div class="d-flex justify-content-center mt-4 mb-3">
    <h3>Lägg till Artist</h3>
</div>
<div class="d-flex justify-content-center m-3">
    <h4>@Model.ShortDescription</h4>
</div>
<div class="d-flex justify-content-center m-3">
    <p>@Model.LongDescription</p>
</div>

<table class="table">
    <tr>
        <td>
            Pris: @Model.Price kr
        </td>
        <td>
            I lager: @Model.Stock st
        </td>
        <td>
            Dimension: @Model.Width x @Model.Height
        </td>
        <td>
            Stil: @Model.Style
        </td>
        <td>
            @Model.CreationDate
        </td>
        <td>
            @if (@Model.IsPaintingOfTheWeek)
            {

            }
        </td>
    </tr>
</table>

<div class="d-flex w-100 m-3" @*id="purchase"*@>
    @*<add-button>@Model.ProductId</add-button>*@
    <a class=" btn btn-success" asp-action="AddToCart" asp-controller="ShoppingCart" asp-route-productId="@Model.ProductId" >Köp</a>
    @*<button class="btn-success"
                onclick="location.href='@Url.Action("AddToShoppingCart", "ShoppingCart", new { productId = @Model.Products.FirstOrDefault().ProductId })'">
            Köp
        </button>*@
</div>
@*@{
    var prod = Model;
}

<script>

    Vue.component('add-button', {
       
        data: function () {
            return {
                product: (@Html.Raw(System.Text.Json.JsonSerializer.Serialize(prod)))
            }
        },
        methods: {
            async addToCart(id) {

                await axios.post("/ShoppingCart/AddToShoppingCart?productId=" + id);
                this.$forceUpdate();
            }
        },
        template: '<button class="btn-success" @@click="addToCart(product.ProductId)" >Köp</button>'
    })
    let purchase = new Vue({
        el: '#purchase'

    })
</script>*@